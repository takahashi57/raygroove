<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ヘルプ・マニュアル - お問い合わせ管理システム</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <style>
        .help-card {
            transition: all 0.3s ease;
        }
        .help-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
        }
        .help-sidebar {
            position: sticky;
            top: 2rem;
            height: fit-content;
        }
        .help-content {
            scroll-behavior: smooth;
        }
        .section-header {
            border-left: 4px solid #3b82f6;
            padding-left: 1rem;
            margin-bottom: 1rem;
        }
        .step {
            position: relative;
            padding-left: 2rem;
            margin-bottom: 1.5rem;
        }
        .step::before {
            content: counter(step-counter);
            counter-increment: step-counter;
            position: absolute;
            left: 0;
            top: 0;
            width: 24px;
            height: 24px;
            background: #3b82f6;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }
        .steps-container {
            counter-reset: step-counter;
        }
        .faq-item {
            border-bottom: 1px solid #e5e7eb;
        }
        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        .faq-answer.open {
            max-height: 500px;
        }
        .video-thumbnail {
            position: relative;
            cursor: pointer;
            border-radius: 0.5rem;
            overflow: hidden;
        }
        .video-thumbnail::after {
            content: '\f04b';
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 3rem;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        }
        .video-thumbnail:hover::after {
            font-size: 3.5rem;
        }
        .search-highlight {
            background-color: #fef3c7;
            padding: 0.125rem 0.25rem;
            border-radius: 0.25rem;
        }
        .breadcrumb {
            display: flex;
            align-items: center;
            space-x: 0.5rem;
            margin-bottom: 1rem;
        }
        .breadcrumb-item:not(:last-child)::after {
            content: '>';
            margin: 0 0.5rem;
            color: #9ca3af;
        }
        .code-block {
            background: #1f2937;
            color: #f3f4f6;
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.875rem;
            line-height: 1.5;
        }
        .download-button {
            display: inline-flex;
            align-items: center;
            padding: 0.5rem 1rem;
            background-color: #3b82f6;
            color: white;
            border-radius: 0.375rem;
            text-decoration: none;
            font-size: 0.875rem;
            font-weight: 500;
            transition: background-color 0.2s;
        }
        .download-button:hover {
            background-color: #2563eb;
            color: white;
        }
    </style>
</head>
<body class="bg-gray-100">
    <div class="flex h-screen">
        <!-- サイドバー -->
        <div class="w-64 bg-gray-800 text-white">
            <div class="p-4 border-b border-gray-700">
                <h1 class="text-xl font-bold">管理画面</h1>
                <p class="text-sm text-gray-400">お問い合わせ管理システム</p>
            </div>
            <nav class="mt-4">
                <a href="../index.html" class="flex items-center px-4 py-3 text-gray-300 hover:bg-gray-700">
                    <i class="fas fa-tachometer-alt mr-3"></i> ダッシュボード
                </a>
                <a href="../contacts/index.html" class="flex items-center px-4 py-3 text-gray-300 hover:bg-gray-700">
                    <i class="fas fa-inbox mr-3"></i> お問い合わせ一覧
                </a>
                <div class="px-4 py-2 text-xs font-semibold text-gray-400 uppercase tracking-wider">
                    システム管理
                </div>
                <a href="../logs/access.html" class="flex items-center px-4 py-3 text-gray-300 hover:bg-gray-700">
                    <i class="fas fa-chart-line mr-3"></i> アクセスログ
                </a>
                <a href="../logs/actions.html" class="flex items-center px-4 py-3 text-gray-300 hover:bg-gray-700">
                    <i class="fas fa-history mr-3"></i> 操作ログ
                </a>
                <a href="../backup/index.html" class="flex items-center px-4 py-3 text-gray-300 hover:bg-gray-700">
                    <i class="fas fa-hdd mr-3"></i> バックアップ
                </a>
                <a href="../api/keys.html" class="flex items-center px-4 py-3 text-gray-300 hover:bg-gray-700">
                    <i class="fas fa-key mr-3"></i> API管理
                </a>
                <a href="index.html" class="flex items-center px-4 py-3 text-white bg-gray-700">
                    <i class="fas fa-question-circle mr-3"></i> ヘルプ
                </a>
            </nav>
        </div>

        <!-- メインコンテンツ -->
        <div class="flex-1 overflow-auto">
            <header class="bg-white shadow-sm">
                <div class="max-w-7xl mx-auto px-4 py-4 sm:px-6 lg:px-8">
                    <div class="flex justify-between items-center">
                        <div>
                            <h2 class="text-2xl font-bold text-gray-900">
                                <i class="fas fa-question-circle mr-3 text-indigo-600"></i>ヘルプ・マニュアル
                            </h2>
                            <p class="text-sm text-gray-600 mt-1">システムの使用方法とよくある質問</p>
                        </div>
                        <div class="flex items-center space-x-4">
                            <!-- 検索ボックス -->
                            <div class="relative">
                                <input type="text" id="help-search" placeholder="ヘルプを検索..." 
                                       class="w-64 pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                    <i class="fas fa-search text-gray-400"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </header>

            <main class="max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8">
                <div class="flex gap-6">
                    <!-- ヘルプナビ -->
                    <div class="w-64 help-sidebar">
                        <div class="bg-white rounded-lg shadow p-4">
                            <div class="breadcrumb">
                                <span class="breadcrumb-item text-sm text-gray-600">ヘルプトップ</span>
                            </div>
                            <nav class="space-y-2">
                                <a href="#getting-started" class="nav-link flex items-center px-3 py-2 text-sm text-gray-700 rounded-md hover:bg-gray-100 transition-colors duration-200">
                                    <i class="fas fa-play-circle mr-3 text-green-500"></i>
                                    はじめに
                                </a>
                                <a href="#dashboard" class="nav-link flex items-center px-3 py-2 text-sm text-gray-700 rounded-md hover:bg-gray-100 transition-colors duration-200">
                                    <i class="fas fa-tachometer-alt mr-3 text-blue-500"></i>
                                    ダッシュボード
                                </a>
                                <a href="#contacts" class="nav-link flex items-center px-3 py-2 text-sm text-gray-700 rounded-md hover:bg-gray-100 transition-colors duration-200">
                                    <i class="fas fa-inbox mr-3 text-purple-500"></i>
                                    お問い合わせ管理
                                </a>
                                <a href="#backup" class="nav-link flex items-center px-3 py-2 text-sm text-gray-700 rounded-md hover:bg-gray-100 transition-colors duration-200">
                                    <i class="fas fa-hdd mr-3 text-orange-500"></i>
                                    バックアップ
                                </a>
                                <a href="#api" class="nav-link flex items-center px-3 py-2 text-sm text-gray-700 rounded-md hover:bg-gray-100 transition-colors duration-200">
                                    <i class="fas fa-key mr-3 text-indigo-500"></i>
                                    API管理
                                </a>
                                <a href="#security" class="nav-link flex items-center px-3 py-2 text-sm text-gray-700 rounded-md hover:bg-gray-100 transition-colors duration-200">
                                    <i class="fas fa-shield-alt mr-3 text-red-500"></i>
                                    セキュリティ
                                </a>
                                <a href="#troubleshooting" class="nav-link flex items-center px-3 py-2 text-sm text-gray-700 rounded-md hover:bg-gray-100 transition-colors duration-200">
                                    <i class="fas fa-tools mr-3 text-yellow-500"></i>
                                    トラブルシューティング
                                </a>
                                <a href="#faq" class="nav-link flex items-center px-3 py-2 text-sm text-gray-700 rounded-md hover:bg-gray-100 transition-colors duration-200">
                                    <i class="fas fa-question mr-3 text-gray-500"></i>
                                    よくある質問
                                </a>
                                <a href="#videos" class="nav-link flex items-center px-3 py-2 text-sm text-gray-700 rounded-md hover:bg-gray-100 transition-colors duration-200">
                                    <i class="fas fa-video mr-3 text-pink-500"></i>
                                    動画チュートリアル
                                </a>
                                <a href="#downloads" class="nav-link flex items-center px-3 py-2 text-sm text-gray-700 rounded-md hover:bg-gray-100 transition-colors duration-200">
                                    <i class="fas fa-download mr-3 text-teal-500"></i>
                                    ダウンロード
                                </a>
                            </nav>
                        </div>
                    </div>

                    <!-- メインコンテンツ -->
                    <div class="flex-1 help-content">
                        <!-- クイックスタートカード -->
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                            <div class="help-card bg-white rounded-lg shadow p-6 cursor-pointer" onclick="scrollToSection('getting-started')">
                                <div class="flex items-center mb-4">
                                    <div class="flex-shrink-0 bg-green-500 rounded-md p-3">
                                        <i class="fas fa-play-circle text-white text-2xl"></i>
                                    </div>
                                    <div class="ml-4">
                                        <h3 class="text-lg font-medium text-gray-900">はじめに</h3>
                                        <p class="text-sm text-gray-600">初回セットアップと基本操作</p>
                                    </div>
                                </div>
                                <p class="text-sm text-gray-500">システムの初期設定と基本的な使い方を学習できます。</p>
                            </div>

                            <div class="help-card bg-white rounded-lg shadow p-6 cursor-pointer" onclick="scrollToSection('videos')">
                                <div class="flex items-center mb-4">
                                    <div class="flex-shrink-0 bg-pink-500 rounded-md p-3">
                                        <i class="fas fa-video text-white text-2xl"></i>
                                    </div>
                                    <div class="ml-4">
                                        <h3 class="text-lg font-medium text-gray-900">動画チュートリアル</h3>
                                        <p class="text-sm text-gray-600">ビジュアルで学ぶ操作方法</p>
                                    </div>
                                </div>
                                <p class="text-sm text-gray-500">動画で分かりやすく操作手順を説明します。</p>
                            </div>

                            <div class="help-card bg-white rounded-lg shadow p-6 cursor-pointer" onclick="scrollToSection('faq')">
                                <div class="flex items-center mb-4">
                                    <div class="flex-shrink-0 bg-yellow-500 rounded-md p-3">
                                        <i class="fas fa-question text-white text-2xl"></i>
                                    </div>
                                    <div class="ml-4">
                                        <h3 class="text-lg font-medium text-gray-900">よくある質問</h3>
                                        <p class="text-sm text-gray-600">FAQ・トラブル解決</p>
                                    </div>
                                </div>
                                <p class="text-sm text-gray-500">よくあるご質問と解決方法をまとめています。</p>
                            </div>
                        </div>

                        <!-- 検索結果表示エリア -->
                        <div id="search-results" class="hidden mb-8">
                            <div class="bg-white rounded-lg shadow p-6">
                                <h3 class="text-lg font-medium text-gray-900 mb-4">
                                    <i class="fas fa-search mr-2 text-indigo-600"></i>検索結果
                                </h3>
                                <div id="search-results-content">
                                    <!-- 検索結果がここに表示される -->
                                </div>
                            </div>
                        </div>

                        <!-- はじめに -->
                        <section id="getting-started" class="mb-12">
                            <div class="bg-white rounded-lg shadow p-6">
                                <div class="section-header">
                                    <h2 class="text-2xl font-bold text-gray-900">
                                        <i class="fas fa-play-circle mr-3 text-green-500"></i>はじめに
                                    </h2>
                                </div>
                                
                                <div class="mb-6">
                                    <h3 class="text-lg font-semibold text-gray-900 mb-3">システム概要</h3>
                                    <p class="text-gray-700 mb-4">
                                        お問い合わせ管理システムは、Webサイトからのお問い合わせを効率的に管理するためのシステムです。
                                        以下の主要機能を提供しています。
                                    </p>
                                    <ul class="list-disc list-inside text-gray-700 space-y-2 ml-4">
                                        <li>お問い合わせの一覧表示・検索・フィルタリング</li>
                                        <li>ステータス管理（未対応・対応中・対応済み）</li>
                                        <li>バックアップ・復元機能</li>
                                        <li>API管理機能</li>
                                        <li>アクセス・操作ログの記録と分析</li>
                                    </ul>
                                </div>

                                <div class="mb-6">
                                    <h3 class="text-lg font-semibold text-gray-900 mb-3">初期設定</h3>
                                    <div class="steps-container">
                                        <div class="step">
                                            <h4 class="font-medium text-gray-900 mb-2">ログイン情報の確認</h4>
                                            <p class="text-gray-700">システムにログインするためのメールアドレスとパスワードを確認してください。</p>
                                        </div>
                                        <div class="step">
                                            <h4 class="font-medium text-gray-900 mb-2">ダッシュボードの確認</h4>
                                            <p class="text-gray-700">ログイン後、ダッシュボードで統計情報を確認し、システムの動作を把握してください。</p>
                                        </div>
                                        <div class="step">
                                            <h4 class="font-medium text-gray-900 mb-2">基本設定の確認</h4>
                                            <p class="text-gray-700">必要に応じて、システム設定やユーザー権限を調整してください。</p>
                                        </div>
                                    </div>
                                </div>

                                <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                                    <div class="flex">
                                        <i class="fas fa-info-circle text-blue-500 mt-1 mr-3"></i>
                                        <div>
                                            <h4 class="text-sm font-medium text-blue-900">重要な注意事項</h4>
                                            <p class="text-sm text-blue-700 mt-1">
                                                初回セットアップ後は、定期的なバックアップの設定を強く推奨します。
                                                データの損失を防ぐため、自動バックアップを有効にしてください。
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <!-- ダッシュボード -->
                        <section id="dashboard" class="mb-12">
                            <div class="bg-white rounded-lg shadow p-6">
                                <div class="section-header">
                                    <h2 class="text-2xl font-bold text-gray-900">
                                        <i class="fas fa-tachometer-alt mr-3 text-blue-500"></i>ダッシュボード
                                    </h2>
                                </div>
                                
                                <div class="mb-6">
                                    <h3 class="text-lg font-semibold text-gray-900 mb-3">統計カードの見方</h3>
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                                        <div class="border border-gray-200 rounded-lg p-4">
                                            <h4 class="font-medium text-gray-900 mb-2">📊 本日の新規問い合わせ</h4>
                                            <p class="text-sm text-gray-700">
                                                今日受信した新しいお問い合わせの数を表示します。
                                                前日との比較も確認できます。
                                            </p>
                                        </div>
                                        <div class="border border-gray-200 rounded-lg p-4">
                                            <h4 class="font-medium text-gray-900 mb-2">⏰ 未対応の問い合わせ</h4>
                                            <p class="text-sm text-gray-700">
                                                まだ対応していないお問い合わせの数を表示します。
                                                緊急度に応じて色分けされます。
                                            </p>
                                        </div>
                                        <div class="border border-gray-200 rounded-lg p-4">
                                            <h4 class="font-medium text-gray-900 mb-2">🔧 対応中の問い合わせ</h4>
                                            <p class="text-sm text-gray-700">
                                                現在対応中のお問い合わせの数を表示します。
                                                進行状況を把握できます。
                                            </p>
                                        </div>
                                        <div class="border border-gray-200 rounded-lg p-4">
                                            <h4 class="font-medium text-gray-900 mb-2">📈 今月の総数</h4>
                                            <p class="text-sm text-gray-700">
                                                今月受信したお問い合わせの総数と前月との比較を表示します。
                                            </p>
                                        </div>
                                    </div>
                                </div>

                                <div class="mb-6">
                                    <h3 class="text-lg font-semibold text-gray-900 mb-3">グラフの活用方法</h3>
                                    <p class="text-gray-700 mb-4">
                                        トレンドグラフでは、過去7日間または30日間のお問い合わせ数の推移を確認できます。
                                        傾向を把握して、適切なリソース配分を行いましょう。
                                    </p>
                                    <ul class="list-disc list-inside text-gray-700 space-y-1 ml-4">
                                        <li>期間を切り替えて、短期・長期のトレンドを分析</li>
                                        <li>特定の日に多くの問い合わせがあった場合、原因を調査</li>
                                        <li>定期的なパターンがある場合、事前の対策を検討</li>
                                    </ul>
                                </div>
                            </div>
                        </section>

                        <!-- お問い合わせ管理 -->
                        <section id="contacts" class="mb-12">
                            <div class="bg-white rounded-lg shadow p-6">
                                <div class="section-header">
                                    <h2 class="text-2xl font-bold text-gray-900">
                                        <i class="fas fa-inbox mr-3 text-purple-500"></i>お問い合わせ管理
                                    </h2>
                                </div>
                                
                                <div class="mb-6">
                                    <h3 class="text-lg font-semibold text-gray-900 mb-3">基本操作</h3>
                                    <div class="steps-container">
                                        <div class="step">
                                            <h4 class="font-medium text-gray-900 mb-2">一覧表示と検索</h4>
                                            <p class="text-gray-700 mb-2">
                                                お問い合わせ一覧画面では、すべてのお問い合わせを表示・検索できます。
                                            </p>
                                            <ul class="list-disc list-inside text-sm text-gray-600 ml-4 space-y-1">
                                                <li>名前、メールアドレス、メッセージ内容で検索</li>
                                                <li>ステータス（未対応・対応中・対応済み）でフィルタリング</li>
                                                <li>日付範囲での絞り込み</li>
                                            </ul>
                                        </div>
                                        <div class="step">
                                            <h4 class="font-medium text-gray-900 mb-2">詳細確認と編集</h4>
                                            <p class="text-gray-700 mb-2">
                                                各お問い合わせの「詳細」ボタンをクリックして、詳細情報を確認・編集できます。
                                            </p>
                                            <ul class="list-disc list-inside text-sm text-gray-600 ml-4 space-y-1">
                                                <li>お客様の基本情報（名前・メール・電話番号など）</li>
                                                <li>お問い合わせ内容の詳細</li>
                                                <li>ステータスの変更</li>
                                                <li>メモ・対応記録の追加</li>
                                            </ul>
                                        </div>
                                        <div class="step">
                                            <h4 class="font-medium text-gray-900 mb-2">ステータス管理</h4>
                                            <p class="text-gray-700 mb-2">
                                                お問い合わせのステータスを適切に管理することで、対応漏れを防げます。
                                            </p>
                                            <div class="grid grid-cols-3 gap-2 mt-2">
                                                <div class="text-center p-2 bg-yellow-50 border border-yellow-200 rounded">
                                                    <span class="text-xs font-medium text-yellow-800">未対応</span>
                                                </div>
                                                <div class="text-center p-2 bg-blue-50 border border-blue-200 rounded">
                                                    <span class="text-xs font-medium text-blue-800">対応中</span>
                                                </div>
                                                <div class="text-center p-2 bg-green-50 border border-green-200 rounded">
                                                    <span class="text-xs font-medium text-green-800">対応済み</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="mb-6">
                                    <h3 class="text-lg font-semibold text-gray-900 mb-3">一括操作</h3>
                                    <p class="text-gray-700 mb-4">
                                        複数のお問い合わせを同時に処理できる一括操作機能が利用できます。
                                    </p>
                                    <ul class="list-disc list-inside text-gray-700 space-y-2 ml-4">
                                        <li>チェックボックスで複数のお問い合わせを選択</li>
                                        <li>選択したお問い合わせのステータスを一括変更</li>
                                        <li>不要なお問い合わせを一括削除</li>
                                        <li>選択したデータをCSVエクスポート</li>
                                    </ul>
                                </div>

                                <div class="bg-green-50 border border-green-200 rounded-lg p-4">
                                    <div class="flex">
                                        <i class="fas fa-lightbulb text-green-500 mt-1 mr-3"></i>
                                        <div>
                                            <h4 class="text-sm font-medium text-green-900">運用のコツ</h4>
                                            <p class="text-sm text-green-700 mt-1">
                                                定期的にステータスを更新し、未対応のお問い合わせを0に保つことを心がけましょう。
                                                対応記録を残すことで、チーム内での情報共有がスムーズになります。
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <!-- バックアップ -->
                        <section id="backup" class="mb-12">
                            <div class="bg-white rounded-lg shadow p-6">
                                <div class="section-header">
                                    <h2 class="text-2xl font-bold text-gray-900">
                                        <i class="fas fa-hdd mr-3 text-orange-500"></i>バックアップ管理
                                    </h2>
                                </div>
                                
                                <div class="mb-6">
                                    <h3 class="text-lg font-semibold text-gray-900 mb-3">手動バックアップ</h3>
                                    <div class="steps-container">
                                        <div class="step">
                                            <h4 class="font-medium text-gray-900 mb-2">バックアップの実行</h4>
                                            <p class="text-gray-700">
                                                「手動バックアップ」セクションで、バックアップ名を入力し「バックアップ実行」ボタンをクリックします。
                                            </p>
                                        </div>
                                        <div class="step">
                                            <h4 class="font-medium text-gray-900 mb-2">進行状況の確認</h4>
                                            <p class="text-gray-700">
                                                バックアップの進行状況は画面上で確認でき、完了時に通知が表示されます。
                                            </p>
                                        </div>
                                        <div class="step">
                                            <h4 class="font-medium text-gray-900 mb-2">バックアップの確認</h4>
                                            <p class="text-gray-700">
                                                作成されたバックアップは「バックアップ履歴」で確認でき、ダウンロードや復元が可能です。
                                            </p>
                                        </div>
                                    </div>
                                </div>

                                <div class="mb-6">
                                    <h3 class="text-lg font-semibold text-gray-900 mb-3">自動バックアップの設定</h3>
                                    <p class="text-gray-700 mb-4">
                                        定期的な自動バックアップを設定することで、データの安全性を確保できます。
                                    </p>
                                    <div class="code-block mb-4">
# 推奨設定例
頻度: 毎日
実行時刻: 02:00
保持期間: 30日間
                                    </div>
                                    <ul class="list-disc list-inside text-gray-700 space-y-2 ml-4">
                                        <li><strong>頻度:</strong> 毎日、毎週、毎月から選択</li>
                                        <li><strong>実行時刻:</strong> アクセスが少ない時間帯を推奨</li>
                                        <li><strong>保持期間:</strong> ストレージ容量に応じて調整</li>
                                    </ul>
                                </div>

                                <div class="mb-6">
                                    <h3 class="text-lg font-semibold text-gray-900 mb-3">クラウドストレージ連携</h3>
                                    <p class="text-gray-700 mb-4">
                                        バックアップを外部クラウドストレージに保存することで、さらなる安全性を確保できます。
                                    </p>
                                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                        <div class="text-center p-4 border border-gray-200 rounded-lg">
                                            <i class="fab fa-aws text-4xl text-orange-500 mb-2"></i>
                                            <h4 class="font-medium text-gray-900">Amazon S3</h4>
                                            <p class="text-sm text-gray-600">高い信頼性と可用性</p>
                                        </div>
                                        <div class="text-center p-4 border border-gray-200 rounded-lg">
                                            <i class="fab fa-google text-4xl text-blue-500 mb-2"></i>
                                            <h4 class="font-medium text-gray-900">Google Cloud</h4>
                                            <p class="text-sm text-gray-600">Googleの堅牢なインフラ</p>
                                        </div>
                                        <div class="text-center p-4 border border-gray-200 rounded-lg">
                                            <i class="fab fa-microsoft text-4xl text-blue-600 mb-2"></i>
                                            <h4 class="font-medium text-gray-900">Azure Blob</h4>
                                            <p class="text-sm text-gray-600">Microsoftのクラウド</p>
                                        </div>
                                    </div>
                                </div>

                                <div class="bg-red-50 border border-red-200 rounded-lg p-4">
                                    <div class="flex">
                                        <i class="fas fa-exclamation-triangle text-red-500 mt-1 mr-3"></i>
                                        <div>
                                            <h4 class="text-sm font-medium text-red-900">重要な注意事項</h4>
                                            <p class="text-sm text-red-700 mt-1">
                                                バックアップからの復元は現在のデータを完全に置き換えます。
                                                復元前に必ず現在のデータをバックアップしておくことを強く推奨します。
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <!-- よくある質問 -->
                        <section id="faq" class="mb-12">
                            <div class="bg-white rounded-lg shadow p-6">
                                <div class="section-header">
                                    <h2 class="text-2xl font-bold text-gray-900">
                                        <i class="fas fa-question mr-3 text-gray-500"></i>よくある質問（FAQ）
                                    </h2>
                                </div>
                                
                                <div class="space-y-4">
                                    <div class="faq-item">
                                        <button class="faq-question w-full text-left py-4 flex justify-between items-center focus:outline-none" onclick="toggleFaq(this)">
                                            <span class="font-medium text-gray-900">ログインできない場合はどうすればよいですか？</span>
                                            <i class="fas fa-chevron-down text-gray-400 transition-transform duration-200"></i>
                                        </button>
                                        <div class="faq-answer px-4 pb-4">
                                            <div class="text-gray-700 space-y-2">
                                                <p>以下の手順で問題を解決してください：</p>
                                                <ol class="list-decimal list-inside space-y-1 ml-4">
                                                    <li>メールアドレスとパスワードが正しく入力されているか確認</li>
                                                    <li>CapsLockキーがオンになっていないか確認</li>
                                                    <li>ブラウザのキャッシュとCookieをクリア</li>
                                                    <li>別のブラウザで試してみる</li>
                                                    <li>パスワードリセット機能を使用</li>
                                                </ol>
                                                <p>それでも解決しない場合は、システム管理者にお問い合わせください。</p>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="faq-item">
                                        <button class="faq-question w-full text-left py-4 flex justify-between items-center focus:outline-none" onclick="toggleFaq(this)">
                                            <span class="font-medium text-gray-900">バックアップが失敗する場合の対処法は？</span>
                                            <i class="fas fa-chevron-down text-gray-400 transition-transform duration-200"></i>
                                        </button>
                                        <div class="faq-answer px-4 pb-4">
                                            <div class="text-gray-700 space-y-2">
                                                <p>バックアップが失敗する主な原因と対処法：</p>
                                                <ul class="list-disc list-inside space-y-1 ml-4">
                                                    <li><strong>ストレージ容量不足:</strong> 不要なファイルを削除するか、容量を増やす</li>
                                                    <li><strong>ネットワーク接続問題:</strong> インターネット接続を確認</li>
                                                    <li><strong>権限不足:</strong> 管理者権限があることを確認</li>
                                                    <li><strong>データベース接続エラー:</strong> しばらく待ってから再試行</li>
                                                </ul>
                                                <p>エラーメッセージの詳細をメモして、技術サポートにお問い合わせください。</p>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="faq-item">
                                        <button class="faq-question w-full text-left py-4 flex justify-between items-center focus:outline-none" onclick="toggleFaq(this)">
                                            <span class="font-medium text-gray-900">APIキーが機能しない場合の確認点は？</span>
                                            <i class="fas fa-chevron-down text-gray-400 transition-transform duration-200"></i>
                                        </button>
                                        <div class="faq-answer px-4 pb-4">
                                            <div class="text-gray-700 space-y-2">
                                                <p>APIキーの問題を解決するための確認項目：</p>
                                                <ol class="list-decimal list-inside space-y-1 ml-4">
                                                    <li>APIキーが正しくコピー・ペーストされているか確認</li>
                                                    <li>APIキーのステータスが「アクティブ」になっているか確認</li>
                                                    <li>レート制限に達していないか確認</li>
                                                    <li>IPアドレス制限が設定されている場合、許可されたIPからのアクセスか確認</li>
                                                    <li>APIキーの有効期限が切れていないか確認</li>
                                                    <li>適切な権限レベル（読み取り・書き込み・管理者）が設定されているか確認</li>
                                                </ol>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="faq-item">
                                        <button class="faq-question w-full text-left py-4 flex justify-between items-center focus:outline-none" onclick="toggleFaq(this)">
                                            <span class="font-medium text-gray-900">データをCSVでエクスポートできない場合は？</span>
                                            <i class="fas fa-chevron-down text-gray-400 transition-transform duration-200"></i>
                                        </button>
                                        <div class="faq-answer px-4 pb-4">
                                            <div class="text-gray-700 space-y-2">
                                                <p>CSVエクスポートの問題を解決する方法：</p>
                                                <ul class="list-disc list-inside space-y-1 ml-4">
                                                    <li><strong>ブラウザの設定:</strong> ポップアップブロッカーを無効にする</li>
                                                    <li><strong>データ量:</strong> 大量のデータの場合、期間を短くして分割</li>
                                                    <li><strong>ブラウザの種類:</strong> Chrome、Firefox、Edgeで試す</li>
                                                    <li><strong>一時的な問題:</strong> しばらく待ってから再試行</li>
                                                </ul>
                                                <p>問題が続く場合は、エクスポート範囲を狭めるか、管理者にお問い合わせください。</p>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="faq-item">
                                        <button class="faq-question w-full text-left py-4 flex justify-between items-center focus:outline-none" onclick="toggleFaq(this)">
                                            <span class="font-medium text-gray-900">システムの動作が遅い場合の対処法は？</span>
                                            <i class="fas fa-chevron-down text-gray-400 transition-transform duration-200"></i>
                                        </button>
                                        <div class="faq-answer px-4 pb-4">
                                            <div class="text-gray-700 space-y-2">
                                                <p>システムのパフォーマンスを改善する方法：</p>
                                                <ul class="list-disc list-inside space-y-1 ml-4">
                                                    <li><strong>ブラウザ:</strong> 最新版を使用し、不要なタブを閉じる</li>
                                                    <li><strong>キャッシュ:</strong> ブラウザのキャッシュをクリア</li>
                                                    <li><strong>拡張機能:</strong> 不要なブラウザ拡張機能を無効化</li>
                                                    <li><strong>ネットワーク:</strong> インターネット接続速度を確認</li>
                                                    <li><strong>検索条件:</strong> より具体的な検索条件で絞り込む</li>
                                                    <li><strong>表示件数:</strong> 一度に表示する件数を減らす</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <!-- 動画チュートリアル -->
                        <section id="videos" class="mb-12">
                            <div class="bg-white rounded-lg shadow p-6">
                                <div class="section-header">
                                    <h2 class="text-2xl font-bold text-gray-900">
                                        <i class="fas fa-video mr-3 text-pink-500"></i>動画チュートリアル
                                    </h2>
                                </div>
                                
                                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                                    <div class="video-item">
                                        <div class="video-thumbnail bg-gray-200 h-32 mb-3" onclick="playVideo('getting-started')">                      
                                            <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIwIiBoZWlnaHQ9IjE4MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iI2RkZCIvPgo8dGV4dCB4PSI1MCUiIHk9IjUwJSIgZm9udC1zaXplPSIxOCIgZmlsbD0iIzk5OSIgZHk9Ii4zZW0iIHRleHQtYW5jaG9yPSJtaWRkbGUiPuOCteODoOODjeOCpOODqzwvdGV4dD4KPC9zdmc+" alt="サムネイル">　　　　　　　　　　　　　　　　　　　　　　　<img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIwIiBoZWlnaHQ9IjE4MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iI2RkZCIvPgo8dGV4dCB4PSI1MCUiIHk9IjUwJSIgZm9udC1zaXplPSIxOCIgZmlsbD0iIzk5OSIgZHk9Ii4zZW0iIHRleHQtYW5jaG9yPSJtaWRkbGUiPuOCteODoOODjeOCpOODqzwvdGV4dD4KPC9zdmc+" alt="サムネイル">
                                        </div>
                                        <h4 class="font-medium text-gray-900 mb-2">システムの基本操作</h4>
                                        <p class="text-sm text-gray-600 mb-2">初回ログインから基本的な操作方法まで</p>
                                        <div class="flex items-center text-xs text-gray-500">
                                            <i class="fas fa-clock mr-1"></i>
                                            <span>5:30</span>
                                        </div>
                                    </div>

                                    <div class="video-item">
                                        <div class="video-thumbnail bg-gray-200 h-32 mb-3" onclick="playVideo('contact-management')">
                                            <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIwIiBoZWlnaHQ9IjE4MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZGRkIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtc2l6ZT0iMTgiIGZpbGw9IiM5OTkiIGR5PSIuM2VtIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj7jgYrllY/jgYTlkIjjgo/jgZvnrrHnkIY8L3RleHQ+PC9zdmc+" alt="お問い合わせ管理" class="w-full h-full object-cover rounded">
                                        </div>
                                        <h4 class="font-medium text-gray-900 mb-2">お問い合わせ管理の方法</h4>
                                        <p class="text-sm text-gray-600 mb-2">検索・フィルタリング・ステータス管理</p>
                                        <div class="flex items-center text-xs text-gray-500">
                                            <i class="fas fa-clock mr-1"></i>
                                            <span>8:15</span>
                                        </div>
                                    </div>

                                    <div class="video-item">
                                        <div class="video-thumbnail bg-gray-200 h-32 mb-3" onclick="playVideo('backup-setup')">
                                            <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIwIiBoZWlnaHQ9IjE4MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZGRkIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtc2l6ZT0iMTgiIGZpbGw9IiM5OTkiIGR5PSIuM2VtIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj7jg5Djg4Pjgq/jgqLjg4Pjg5fnrrHnkIY8L3RleHQ+PC9zdmc+" alt="バックアップ設定" class="w-full h-full object-cover rounded">
                                        </div>
                                        <h4 class="font-medium text-gray-900 mb-2">バックアップ設定と復元</h4>
                                        <p class="text-sm text-gray-600 mb-2">手動・自動バックアップの設定方法</p>
                                        <div class="flex items-center text-xs text-gray-500">
                                            <i class="fas fa-clock mr-1"></i>
                                            <span>6:45</span>
                                        </div>
                                    </div>

                                    <div class="video-item">
                                        <div class="video-thumbnail bg-gray-200 h-32 mb-3" onclick="playVideo('api-management')">
                                            <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIwIiBoZWlnaHQ9IjE4MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZGRkIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtc2l6ZT0iMTgiIGZpbGw9IiM5OTkiIGR5PSIuM2VtIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj5BUEnnrrHnkIY8L3RleHQ+PC9zdmc+" alt="API管理" class="w-full h-full object-cover rounded">
                                        </div>
                                        <h4 class="font-medium text-gray-900 mb-2">API管理とセキュリティ</h4>
                                        <p class="text-sm text-gray-600 mb-2">APIキーの作成・管理・制限設定</p>
                                        <div class="flex items-center text-xs text-gray-500">
                                            <i class="fas fa-clock mr-1"></i>
                                            <span>12:30</span>
                                        </div>
                                    </div>

                                    <div class="video-item">
                                        <div class="video-thumbnail bg-gray-200 h-32 mb-3" onclick="playVideo('data-export')">
                                            <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIwIiBoZWlnaHQ9IjE4MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZGRkIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtc2l6ZT0iMTgiIGZpbGw9IiM5OTkiIGR5PSIuM2VtIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj7jg4fjg7zjgr/jgqjjgq/jgrnjg53jg7zjg4g8L3RleHQ+PC9zdmc+" alt="データエクスポート" class="w-full h-full object-cover rounded">
                                        </div>
                                        <h4 class="font-medium text-gray-900 mb-2">データエクスポート機能</h4>
                                        <p class="text-sm text-gray-600 mb-2">CSVエクスポートの詳細設定</p>
                                        <div class="flex items-center text-xs text-gray-500">
                                            <i class="fas fa-clock mr-1"></i>
                                            <span>4:20</span>
                                        </div>
                                    </div>

                                    <div class="video-item">
                                        <div class="video-thumbnail bg-gray-200 h-32 mb-3" onclick="playVideo('troubleshooting')">
                                            <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIwIiBoZWlnaHQ9IjE4MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZGRkIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtc2l6ZT0iMTgiIGZpbGw9IiM5OTkiIGR5PSIuM2VtIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj7jg4jjg6njg5bjg6vjgrfjg6Xjg7zjg4bjgqPjg7Pjgrw8L3RleHQ+PC9zdmc+" alt="トラブルシューティング" class="w-full h-full object-cover rounded">
                                        </div>
                                        <h4 class="font-medium text-gray-900 mb-2">トラブルシューティング</h4>
                                        <p class="text-sm text-gray-600 mb-2">よくある問題と解決方法</p>
                                        <div class="flex items-center text-xs text-gray-500">
                                            <i class="fas fa-clock mr-1"></i>
                                            <span>7:10</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="mt-6 text-center">
                                    <p class="text-sm text-gray-600 mb-4">
                                        すべての動画チュートリアルは高解像度で提供されており、字幕対応しています。
                                    </p>
                                    <a href="#" class="download-button">
                                        <i class="fas fa-download mr-2"></i>
                                        全動画をダウンロード
                                    </a>
                                </div>
                            </div>
                        </section>

                        <!-- ダウンロード -->
                        <section id="downloads" class="mb-12">
                            <div class="bg-white rounded-lg shadow p-6">
                                <div class="section-header">
                                    <h2 class="text-2xl font-bold text-gray-900">
                                        <i class="fas fa-download mr-3 text-teal-500"></i>ダウンロード
                                    </h2>
                                </div>
                                
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div class="border border-gray-200 rounded-lg p-6">
                                        <div class="flex items-center mb-4">
                                            <i class="fas fa-file-pdf text-red-500 text-3xl mr-4"></i>
                                            <div>
                                                <h3 class="text-lg font-medium text-gray-900">操作マニュアル（PDF）</h3>
                                                <p class="text-sm text-gray-600">完全版の操作ガイド</p>
                                            </div>
                                        </div>
                                        <p class="text-sm text-gray-700 mb-4">
                                            システムの全機能を網羅した詳細な操作マニュアルです。
                                            オフラインでも参照できます。
                                        </p>
                                        <div class="flex items-center justify-between">
                                            <span class="text-xs text-gray-500">バージョン 2.1 | 更新日: 2024/12/01</span>
                                            <a href="#" class="download-button">
                                                <i class="fas fa-download mr-2"></i>
                                                ダウンロード
                                            </a>
                                        </div>
                                    </div>

                                    <div class="border border-gray-200 rounded-lg p-6">
                                        <div class="flex items-center mb-4">
                                            <i class="fas fa-file-alt text-blue-500 text-3xl mr-4"></i>
                                            <div>
                                                <h3 class="text-lg font-medium text-gray-900">クイックリファレンス</h3>
                                                <p class="text-sm text-gray-600">要点をまとめた早見表</p>
                                            </div>
                                        </div>
                                        <p class="text-sm text-gray-700 mb-4">
                                            よく使う機能や設定をまとめた1ページの早見表です。
                                            デスクに置いて参照できます。
                                        </p>
                                        <div class="flex items-center justify-between">
                                            <span class="text-xs text-gray-500">A4サイズ | 更新日: 2024/12/01</span>
                                            <a href="#" class="download-button">
                                                <i class="fas fa-download mr-2"></i>
                                                ダウンロード
                                            </a>
                                        </div>
                                    </div>

                                    <div class="border border-gray-200 rounded-lg p-6">
                                        <div class="flex items-center mb-4">
                                            <i class="fas fa-code text-green-500 text-3xl mr-4"></i>
                                            <div>
                                                <h3 class="text-lg font-medium text-gray-900">API仕様書</h3>
                                                <p class="text-sm text-gray-600">開発者向けAPI資料</p>
                                            </div>
                                        </div>
                                        <p class="text-sm text-gray-700 mb-4">
                                            外部システムとの連携やカスタム開発に必要な
                                            API仕様書とサンプルコード集です。
                                        </p>
                                        <div class="flex items-center justify-between">
                                            <span class="text-xs text-gray-500">JSON形式 | 更新日: 2024/11/28</span>
                                            <a href="#" class="download-button">
                                                <i class="fas fa-download mr-2"></i>
                                                ダウンロード
                                            </a>
                                        </div>
                                    </div>

                                    <div class="border border-gray-200 rounded-lg p-6">
                                        <div class="flex items-center mb-4">
                                            <i class="fas fa-database text-purple-500 text-3xl mr-4"></i>
                                            <div>
                                                <h3 class="text-lg font-medium text-gray-900">サンプルデータ</h3>
                                                <p class="text-sm text-gray-600">テスト用データセット</p>
                                            </div>
                                        </div>
                                        <p class="text-sm text-gray-700 mb-4">
                                            システムのテストや練習に使用できる
                                            サンプルのお問い合わせデータです。
                                        </p>
                                        <div class="flex items-center justify-between">
                                            <span class="text-xs text-gray-500">CSV形式 | 100件のサンプル</span>
                                            <a href="#" class="download-button">
                                                <i class="fas fa-download mr-2"></i>
                                                ダウンロード
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <!-- トラブルシューティング -->
                        <section id="troubleshooting" class="mb-12">
                            <div class="bg-white rounded-lg shadow p-6">
                                <div class="section-header">
                                    <h2 class="text-2xl font-bold text-gray-900">
                                        <i class="fas fa-tools mr-3 text-yellow-500"></i>トラブルシューティング
                                    </h2>
                                </div>
                                
                                <div class="space-y-6">
                                    <div class="border-l-4 border-red-500 pl-4">
                                        <h3 class="text-lg font-semibold text-gray-900 mb-3">緊急時の対応</h3>
                                        <div class="space-y-3">
                                            <div class="p-4 bg-red-50 border border-red-200 rounded-lg">
                                                <h4 class="font-medium text-red-900 mb-2">システムにアクセスできない</h4>
                                                <ol class="list-decimal list-inside text-sm text-red-800 space-y-1">
                                                    <li>インターネット接続を確認</li>
                                                    <li>別のブラウザで試行</li>
                                                    <li>ブラウザのキャッシュをクリア</li>
                                                    <li>システム管理者に連絡（緊急連絡先: support@example.com）</li>
                                                </ol>
                                            </div>
                                            <div class="p-4 bg-orange-50 border border-orange-200 rounded-lg">
                                                <h4 class="font-medium text-orange-900 mb-2">データが表示されない</h4>
                                                <ol class="list-decimal list-inside text-sm text-orange-800 space-y-1">
                                                    <li>検索・フィルター条件を確認</li>
                                                    <li>ページを再読み込み（F5キー）</li>
                                                    <li>異なる期間で検索</li>
                                                    <li>管理者権限があることを確認</li>
                                                </ol>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="border-l-4 border-blue-500 pl-4">
                                        <h3 class="text-lg font-semibold text-gray-900 mb-3">パフォーマンス問題</h3>
                                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                            <div class="p-4 bg-blue-50 border border-blue-200 rounded-lg">
                                                <h4 class="font-medium text-blue-900 mb-2">動作が遅い</h4>
                                                <ul class="list-disc list-inside text-sm text-blue-800 space-y-1">
                                                    <li>不要なブラウザタブを閉じる</li>
                                                    <li>検索範囲を狭める</li>
                                                    <li>表示件数を減らす</li>
                                                    <li>ブラウザを再起動</li>
                                                </ul>
                                            </div>
                                            <div class="p-4 bg-green-50 border border-green-200 rounded-lg">
                                                <h4 class="font-medium text-green-900 mb-2">推奨環境</h4>
                                                <ul class="list-disc list-inside text-sm text-green-800 space-y-1">
                                                    <li>Chrome 最新版</li>
                                                    <li>Firefox 最新版</li>
                                                    <li>Edge 最新版</li>
                                                    <li>メモリ 4GB以上</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="border-l-4 border-purple-500 pl-4">
                                        <h3 class="text-lg font-semibold text-gray-900 mb-3">エラーコード一覧</h3>
                                        <div class="overflow-x-auto">
                                            <table class="min-w-full divide-y divide-gray-200">
                                                <thead class="bg-gray-50">
                                                    <tr>
                                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">エラーコード</th>
                                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">説明</th>
                                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">対処法</th>
                                                    </tr>
                                                </thead>
                                                <tbody class="bg-white divide-y divide-gray-200">
                                                    <tr>
                                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900">AUTH001</td>
                                                        <td class="px-6 py-4 text-sm text-gray-900">認証エラー</td>
                                                        <td class="px-6 py-4 text-sm text-gray-700">再ログインしてください</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900">DB002</td>
                                                        <td class="px-6 py-4 text-sm text-gray-900">データベース接続エラー</td>
                                                        <td class="px-6 py-4 text-sm text-gray-700">時間をおいて再試行</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900">API003</td>
                                                        <td class="px-6 py-4 text-sm text-gray-900">APIレート制限</td>
                                                        <td class="px-6 py-4 text-sm text-gray-700">制限解除まで待機</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900">FILE004</td>
                                                        <td class="px-6 py-4 text-sm text-gray-900">ファイルアップロードエラー</td>
                                                        <td class="px-6 py-4 text-sm text-gray-700">ファイルサイズを確認</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>

                                <div class="mt-6 p-4 bg-gray-50 border border-gray-200 rounded-lg">
                                    <h4 class="font-medium text-gray-900 mb-2">
                                        <i class="fas fa-phone mr-2 text-gray-600"></i>サポート連絡先
                                    </h4>
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-700">
                                        <div>
                                            <strong>技術サポート:</strong><br>
                                            メール: support@example.com<br>
                                            電話: 03-1234-5678（平日 9:00-18:00）
                                        </div>
                                        <div>
                                            <strong>緊急時連絡先:</strong><br>
                                            メール: emergency@example.com<br>
                                            電話: 080-1234-5678（24時間対応）
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- 動画モーダル -->
    <div id="video-modal" class="hidden fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center">
        <div class="relative w-full max-w-4xl mx-4">
            <button id="close-video" class="absolute -top-10 right-0 text-white text-2xl hover:text-gray-300">
                <i class="fas fa-times"></i>
            </button>
            <div class="bg-black rounded-lg overflow-hidden">
                <div id="video-player" class="w-full h-96 bg-gray-900 flex items-center justify-center">
                    <div class="text-white text-center">
                        <i class="fas fa-play-circle text-6xl mb-4"></i>
                        <p>動画プレーヤー（実装時にYouTubeやVimeoを埋め込み）</p>
                        <p class="text-sm mt-2 text-gray-300">動画ID: <span id="current-video-id"></span></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        class HelpSystem {
            constructor() {
                this.searchIndex = [];
                this.currentSection = null;
                this.searchResults = [];
                this.buildSearchIndex();
            }

            initialize() {
                this.setupEventListeners();
                this.setupNavigation();
                this.updateLastUpdated();
                console.log('✅ ヘルプシステム初期化完了');
            }

            setupEventListeners() {
                // 検索機能
                const searchInput = document.getElementById('help-search');
                let searchTimeout;
                searchInput.addEventListener('input', (e) => {
                    clearTimeout(searchTimeout);
                    searchTimeout = setTimeout(() => {
                        this.performSearch(e.target.value);
                    }, 300);
                });

                // ナビリンクのクリック
                document.querySelectorAll('.nav-link').forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        const targetId = link.getAttribute('href').substring(1);
                        this.scrollToSection(targetId);
                        this.updateActiveNavigation(link);
                    });
                });

                // 動画モーダル
                document.getElementById('close-video').addEventListener('click', () => {
                    this.closeVideoModal();
                });

                // モーダルの外側クリックで閉じる
                document.getElementById('video-modal').addEventListener('click', (e) => {
                    if (e.target.id === 'video-modal') {
                        this.closeVideoModal();
                    }
                });

                // スクロール時のナビゲーション更新
                window.addEventListener('scroll', () => {
                    this.updateNavigationOnScroll();
                });
            }

            setupNavigation() {
                // 初期状態でのアクティブセクション設定
                this.updateNavigationOnScroll();
            }

            buildSearchIndex() {
                // 検索インデックスを構築
                const sections = document.querySelectorAll('section');
                sections.forEach(section => {
                    const sectionId = section.id;
                    const title = section.querySelector('h2').textContent;
                    const content = section.textContent.toLowerCase();
                    
                    this.searchIndex.push({
                        id: sectionId,
                        title: title,
                        content: content,
                        element: section
                    });
                });
            }

            performSearch(query) {
                if (!query.trim()) {
                    this.hideSearchResults();
                    return;
                }

                const results = this.searchIndex.filter(item => 
                    item.content.includes(query.toLowerCase())
                );

                this.displaySearchResults(results, query);
            }

            displaySearchResults(results, query) {
                const searchResultsContainer = document.getElementById('search-results');
                const searchResultsContent = document.getElementById('search-results-content');

                if (results.length === 0) {
                    searchResultsContent.innerHTML = `
                        <div class="text-center py-8">
                            <i class="fas fa-search text-gray-400 text-4xl mb-4"></i>
                            <p class="text-gray-600">「${query}」に関する情報が見つかりませんでした。</p>
                            <p class="text-sm text-gray-500 mt-2">別のキーワードで検索してみてください。</p>
                        </div>
                    `;
                } else {
                    searchResultsContent.innerHTML = results.map(result => `
                        <div class="border-b border-gray-200 py-4 last:border-b-0">
                            <h4 class="font-medium text-gray-900 mb-2">
                                <a href="#${result.id}" onclick="app.scrollToSection('${result.id}')" class="text-indigo-600 hover:text-indigo-800">
                                    ${result.title}
                                </a>
                            </h4>
                            <p class="text-sm text-gray-600">
                                ${this.getSearchSnippet(result.content, query)}
                            </p>
                        </div>
                    `).join('');
                }

                searchResultsContainer.classList.remove('hidden');
            }

            getSearchSnippet(content, query) {
                const index = content.toLowerCase().indexOf(query.toLowerCase());
                if (index === -1) return content.substring(0, 150) + '...';
                
                const start = Math.max(0, index - 75);
                const end = Math.min(content.length, index + query.length + 75);
                let snippet = content.substring(start, end);
                
                if (start > 0) snippet = '...' + snippet;
                if (end < content.length) snippet = snippet + '...';
                
                // ハイライト
                const regex = new RegExp(`(${query})`, 'gi');
                snippet = snippet.replace(regex, '<span class="search-highlight">$1</span>');
                
                return snippet;
            }

            hideSearchResults() {
                document.getElementById('search-results').classList.add('hidden');
            }

            scrollToSection(sectionId) {
                const section = document.getElementById(sectionId);
                if (section) {
                    const headerHeight = 80; // ヘッダーの高さを考慮
                    const targetPosition = section.offsetTop - headerHeight;
                    
                    window.scrollTo({
                        top: targetPosition,
                        behavior: 'smooth'
                    });
                    
                    this.currentSection = sectionId;
                    this.hideSearchResults();
                }
            }

            updateActiveNavigation(activeLink) {
                // すべてのナビリンクから active クラスを削除
                document.querySelectorAll('.nav-link').forEach(link => {
                    link.classList.remove('bg-indigo-100', 'text-indigo-700');
                    link.classList.add('text-gray-700');
                });
                
                // アクティブなリンクにスタイルを適用
                if (activeLink) {
                    activeLink.classList.remove('text-gray-700');
                    activeLink.classList.add('bg-indigo-100', 'text-indigo-700');
                }
            }

            updateNavigationOnScroll() {
                const sections = document.querySelectorAll('section');
                const scrollPosition = window.scrollY + 100; // オフセット

                let currentSection = null;
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    const sectionHeight = section.offsetHeight;
                    
                    if (scrollPosition >= sectionTop && scrollPosition < sectionTop + sectionHeight) {
                        currentSection = section.id;
                    }
                });

                if (currentSection && currentSection !== this.currentSection) {
                    this.currentSection = currentSection;
                    const activeLink = document.querySelector(`a[href="#${currentSection}"]`);
                    this.updateActiveNavigation(activeLink);
                }
            }

            playVideo(videoId) {
                document.getElementById('current-video-id').textContent = videoId;
                document.getElementById('video-modal').classList.remove('hidden');
                document.body.classList.add('overflow-hidden');
                
                // 実際の実装では、ここでYouTubeやVimeoのAPIを使用して動画を埋め込み
                console.log(`動画再生: ${videoId}`);
            }

            closeVideoModal() {
                document.getElementById('video-modal').classList.add('hidden');
                document.body.classList.remove('overflow-hidden');
            }

            updateLastUpdated() {
                // 最終更新時刻の表示（実際の実装では適切な日時を設定）
                console.log('ヘルプページ読み込み完了');
            }
        }

        // FAQ関連の関数
        function toggleFaq(button) {
            const answer = button.nextElementSibling;
            const icon = button.querySelector('i');
            
            if (answer.classList.contains('open')) {
                answer.classList.remove('open');
                icon.classList.remove('fa-chevron-up');
                icon.classList.add('fa-chevron-down');
            } else {
                // 他のFAQを閉じる
                document.querySelectorAll('.faq-answer.open').forEach(openAnswer => {
                    openAnswer.classList.remove('open');
                    const openIcon = openAnswer.previousElementSibling.querySelector('i');
                    openIcon.classList.remove('fa-chevron-up');
                    openIcon.classList.add('fa-chevron-down');
                });
                
                answer.classList.add('open');
                icon.classList.remove('fa-chevron-down');
                icon.classList.add('fa-chevron-up');
            }
        }

        // グローバル関数
        function scrollToSection(sectionId) {
            app.scrollToSection(sectionId);
        }

        function playVideo(videoId) {
            app.playVideo(videoId);
        }

        // アプリケーションインスタンスを作成
        const app = new HelpSystem();

        // ページロード時の初期化
        window.addEventListener('load', () => {
            app.initialize();
        });

        // DOMContentLoaded時の処理
        document.addEventListener('DOMContentLoaded', () => {
            // FAQアコーディオンの初期化など
            console.log('DOM読み込み完了');
        });
    </script>
</body>
</html>